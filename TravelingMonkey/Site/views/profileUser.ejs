<!DOCTYPE html>
    <html lang="pt-br">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link rel="stylesheet" href="/css/style.css">
            <link rel="preconnect" href="https://fonts.googleapis.com">
            <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
            <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Cinzel+Decorative:wght@400;700;900&family=Eagle+Lake&family=Prata&display=swap" rel="stylesheet">
            <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css">
            <script src="/js/script.js"></script>
            <title>Traveling Monkey</title>
        </head>
        <body>
            <%- include ('partials/nav.ejs') %>

            <div class="sidenav">
                <div class="profile">
                    <% if (session.userCidade) { %>
                        <img src="<%= session.userCidade.pic %>" alt="" width="100" height="100">
                        <div class="name">
                            <%= session.userCidade.nome %>
                        </div>
                    <% } else if (session.userGuia) { %>
                        <img src="<%= session.userGuia.pic %>" alt="" width="100" height="100">
                        <div class="name">
                            <%= session.userGuia.nome %>
                        </div>
                    <% } else if (session.userTurista) { %>
                        <img src="<%= session.userTurista.pic %>" alt="" width="100" height="100">
                        <div class="name">
                            <%= session.userTurista.nome %>
                        </div>
                    <% } %>
                    
                    <% if (session.userCidade) { %>
                        <div class="job">
                            <span>Cidade</span>
                        </div>
                    <% } else if (session.userGuia) { %>
                        <div class="job">
                            <span>Guia de Turismo</span>
                        </div>
                    <% } else if (session.userTurista) { %>
                        <div class="job">
                            <span>Turista</span>
                        </div>
                    <% } %>
                </div>
                <div class="sidenav-url">
                    <div class="url">
                        <a href="#profile" class="active">Perfil</a>
                        <hr align="center">
                    </div>
                    <div class="url">
                        <a href="#settings">Configurações</a>
                        <hr align="center">
                    </div>
                </div>
            </div>
            <div class="profileContainer">
                <% if(messages.success) { %>
                    <div class="alertSuccess">
                        <%= messages.success %>
                    </div>
                <% } %>
                <div class="cardProfile">
                    <div class="cardProfileBody-Personal">
                        <div class="cardProfileTitle">
                            <i id="editBtnPersonal" class="fa fa-pen fa-xs edit"></i>
                            <% if (session.userCidade) { %>
                                <h2>Infos: <%= session.userCidade.nome %></h2>
                            <% } else if (session.userGuia) { %>
                                <h2>Infos: <%= session.userGuia.nome %></h2>
                            <% } else if (session.userTurista) { %>
                                <h2>Infos: <%= session.userTurista.nome %></h2>
                            <% } %>
                        </div>
                        <div class="cardProfileBody-Inputs">
                            <% Object.keys(session).forEach(key => { %>
                                <% if (key.startsWith('user')) { %>
                                    <div class="cardProfileTuristas">
                                        <% if (session.userCidade) { %>
                                            <form method="POST" action="/profileUser/update/<%= session.userCidade.id %>"></form>
                                        <% } else if (session.userGuia) { %>
                                            <form method="POST" action="/profileUser/update/<%= session.userGuia.id %>"></form>
                                        <% } else if (session.userTurista) { %>
                                            <form method="POST" action="/profileUser/update/<%= session.userTurista.id %>"></form>
                                        <% } %>
                                        
                                            <input type="text" name="id" value="<%= session[key].id %>" hidden>
                                            <fieldset>
                                                <legend>Principais</legend>
                                                <label >Nome:</label>
                                                <input class="editable" type="text" name="nome" id="" value="<%= session[key].nome %>" disabled>

                                                <label>CPF:</label>
                                                <input class="editable" type="text" name="cpf" id="" value="<%= session[key].cpf %>" disabled>

                                                <label >NASCIMENTO:</label>
                                                <input class="editable" type="date" name="nascimento" id="" value="<%= session[key].nasc %>" disabled>

                                                <label >IDADE:</label>
                                                <input type="text" value="<%= session[key].age %>" disabled>
                                            </fieldset>
                                            <fieldset>
                                                <legend>Endereço:</legend>

                                                <label>Rua:</label>
                                                <input class="editable" type="text" name="rua" value="<%= session[key].rua %>" disabled>

                                                <label>Bairro:</label>
                                                <input class="editable" type="text" name="bairro" value="<%= session[key].bairro %>" disabled>

                                                <label>Nº:</label>
                                                <input class="editable" type="text" name="numero" value="<%= session[key].numero %>" disabled>

                                                <label>Cidade:</label>
                                                <input class="editable" type="text" name="cidade" value="<%= session[key].cidade %>" disabled>

                                                <label>Estado:</label>
                                                <input class="editable" type="text" name="uf" value="<%= session[key].uf %>" disabled>
                                            </fieldset>
                                            <fieldset>
                                                <legend>Contato</legend>

                                                <label>E-mail:</label>
                                                <input type="email" name="email" value="<%= session[key].email %>" disabled>
                                                
                                                <label>Telefone Principal:</label>
                                                <input type="text" name="" id="" value="<%= session[key].foneP %>" disabled>
                                            </fieldset>                          
                                            <fieldset>
                                                <legend>Adicionais</legend>

                                                <label>Idioma padrão:</label>
                                                <input type="text" name="" id="" value="<%= session[key].language %>" disabled>

                                                <label>Idiomas adicionais:</label>
                                                <input type="text" name="" id="" value="" disabled>

                                                <label>Comorbidades:</label>
                                                <input type="text" name="" id="" value="" disabled>

                                                <label>Interesses:</label>
                                                <input type="text" name="" id="" value="" disabled>
                                            </fieldset>
                                        </form>
                                    </div>
                                <% } %>
                            <% }); %>
                        </div>
                        
                    </div>
                    <div class="cardProfileBody-Infos">
                        <div class="cardProfileTitle">
                            <i id="editBtn-Infos" class="fa fa-pen fa-xs edit"></i>
                            <% if (session.userCidade) { %>
                                <h2>Pontos túristicos Cadastrados:</h2>
                            <% } else if (session.userGuia) { %>
                                <h2>Histórico de viagens</h2>
                            <% } else if (session.userTurista) { %>
                                <h2>Histórico de reservas:</h2>
                            <% } %>
                        </div>
                    </div>
                </div>
        
                <div class="cardSocialMedia">
                    <div class="cardProfileTitle">
                        <i id="editBtn-Social" class="fa fa-pen fa-xs edit"></i>
                        <h2>Conecte-se</h2>
                    </div>
                    <div class="social-media">
                        <span class="fa-stack fa-sm">
                            <i class="fas fa-circle fa-stack-2x"></i>
                            <i class="fab fa-facebook fa-stack-1x fa-inverse"></i>
                        </span>
                        <span class="fa-stack fa-sm">
                            <i class="fas fa-circle fa-stack-2x"></i>
                            <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                        </span>
                        <span class="fa-stack fa-sm">
                            <i class="fas fa-circle fa-stack-2x"></i>
                            <i class="fab fa-instagram fa-stack-1x fa-inverse"></i>
                        </span>
                        <span class="fa-stack fa-sm">
                            <i class="fas fa-circle fa-stack-2x"></i>
                            <i class="fab fa-invision fa-stack-1x fa-inverse"></i>
                        </span>
                        <span class="fa-stack fa-sm">
                            <i class="fas fa-circle fa-stack-2x"></i>
                            <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                        </span>
                        <span class="fa-stack fa-sm">
                            <i class="fas fa-circle fa-stack-2x"></i>
                            <i class="fab fa-whatsapp fa-stack-1x fa-inverse"></i>
                        </span>
                        <span class="fa-stack fa-sm">
                            <i class="fas fa-circle fa-stack-2x"></i>
                            <i class="fab fa-snapchat fa-stack-1x fa-inverse"></i>
                        </span>
                    </div>
                </div>
            </div>
        <%- include ('partials/footer.ejs') %>